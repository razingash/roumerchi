{% extends 'tests/base.html' %}

{% load static %}

{% block additional_css %}
    <link type="text/css" rel="stylesheet" href="{% static 'tests/css/profile.css' %}">
    <link type="text/css" rel="stylesheet" href="{% static 'tests/css/search_test.css' %}">
{% endblock %}
{% block additional_js %}
    <script src="{% static 'tests/js/test_advanced_search.js' %}"></script>
{% endblock %}
{% block content %}
    <div class="section">
        <div class="main__field">
            <div class="profile">
                <div class="profile__intro">
                    <div class="field__description">
                        <div class="username">{{ user.username }}</div>
                        <div class="description">{% if user.description is not none %}{{ user.description }}{% else %}Here I am hiding{% endif %}</div>
                    </div>
                </div>
                {% if request.user.is_authenticated and user.uuid == user_uuid %}
                    <a href="{% url 'settings' %}" class="profile__settings">
                        <svg class="svg__gear" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path class="svg__gear" d="m12.18 2.3c1.13 0.03 1.87 0.66 2.26 1.84l0.07 0.2 0.04 0.18c0.02 0.07 0.04 0.14 0.07 0.22l0.05 0.15 0.03 0.02 0.07-0.03 0.13-0.04 0.14-0.07c1.33-0.62 2.36-0.5 3.19 0.41l0.12 0.14 0.77 0.96c0.69 0.9 0.67 1.87 0 2.92l-0.12 0.17-0.11 0.15c-0.04 0.06-0.09 0.13-0.13 0.2l-0.07 0.11-0.03 0.05v0.02l0.09 0.06 0.12 0.07 0.14 0.08c1.31 0.66 1.85 1.54 1.64 2.76l-0.03 0.18-0.23 0.99c-0.15 0.65-0.27 0.95-0.73 1.37-0.45 0.41-0.96 0.58-1.63 0.63l-0.21 0.02h-0.18c-0.08 0-0.15 0.01-0.24 0.02l-0.17 0.02 0.02 0.13 0.01 0.09 0.03 0.17c0.3 1.44-0.04 2.41-1.12 3.01l-0.16 0.09-1.11 0.54c-1.03 0.46-1.97 0.22-2.84-0.66l-0.14-0.16-0.13-0.14c-0.04-0.06-0.1-0.12-0.16-0.18l-0.13-0.13-0.09 0.08-0.1 0.1-0.11 0.13c-0.9 1.07-1.84 1.45-2.99 1l-0.17-0.07-0.99-0.48-0.29-0.15c-0.45-0.24-0.7-0.48-0.95-1-0.26-0.54-0.27-1.08-0.15-1.77l0.04-0.21c0.02-0.07 0.03-0.15 0.04-0.23l0.02-0.16-0.1-0.02-0.14-0.01-0.16-0.01c-1.47-0.02-2.34-0.58-2.69-1.77l-0.04-0.17-0.28-1.2c-0.22-1.11 0.22-1.98 1.28-2.62l0.19-0.11 0.16-0.08 0.21-0.12 0.14-0.09 0.01-0.02-0.06-0.1-0.08-0.12-0.1-0.14c-0.88-1.17-0.98-2.2-0.26-3.2l0.11-0.15 0.78-0.95c0.74-0.86 1.69-1.04 2.86-0.6l0.19 0.08 0.17 0.07 0.21 0.09 0.13 0.04 0.03-0.01 0.03-0.08 0.05-0.13 0.04-0.16c0.34-1.35 1.02-2.11 2.25-2.21l0.18-0.01zm-0.06 1.69h-1.25l-0.13 0.01c-0.27 0.03-0.45 0.18-0.62 0.78l-0.04 0.15-0.05 0.19c-0.1 0.34-0.25 0.71-0.44 1.07-0.38 0.14-0.74 0.32-1.08 0.53-0.4-0.08-0.78-0.2-1.09-0.33l-0.33-0.15c-0.24-0.1-0.41-0.15-0.55-0.16h-0.08c-0.17 0-0.28 0.07-0.38 0.18l-0.07 0.07-0.74 0.91-0.09 0.12c-0.17 0.25-0.2 0.47 0.18 1.01l0.22 0.3c0.2 0.29 0.4 0.65 0.56 1.04-0.12 0.36-0.21 0.74-0.25 1.13-0.32 0.27-0.65 0.51-0.96 0.68l-0.32 0.17c-0.58 0.32-0.66 0.53-0.61 0.83l0.01 0.07 0.27 1.15 0.04 0.14c0.09 0.29 0.24 0.45 0.91 0.48l0.36 0.02c0.35 0.02 0.75 0.08 1.15 0.19 0.21 0.33 0.46 0.63 0.73 0.91 0.02 0.5-0.03 0.98-0.11 1.36-0.19 0.89-0.01 1.04 0.36 1.22l1.06 0.52c0.12 0.05 0.22 0.08 0.32 0.08h0.06c0.18-0.03 0.36-0.15 0.64-0.46l0.24-0.28c0.24-0.26 0.55-0.54 0.89-0.78l0.28 0.02h0.57l0.28-0.02c0.34 0.24 0.65 0.52 0.9 0.78l0.24 0.28c0.3 0.34 0.5 0.46 0.69 0.46h0.06c0.06-0.01 0.11-0.02 0.17-0.04l0.09-0.04 1.06-0.52 0.13-0.06c0.28-0.17 0.4-0.38 0.23-1.16-0.08-0.38-0.13-0.86-0.11-1.36 0.27-0.28 0.52-0.58 0.73-0.91 0.4-0.11 0.8-0.17 1.15-0.19l0.37-0.02c0.76-0.03 0.86-0.24 0.95-0.62l0.24-1.07c0.09-0.39 0.09-0.61-0.58-0.98l-0.32-0.17c-0.3-0.17-0.64-0.41-0.95-0.68-0.05-0.39-0.13-0.77-0.26-1.13 0.17-0.39 0.37-0.75 0.57-1.04l0.21-0.3c0.38-0.54 0.36-0.76 0.18-1.01l-0.04-0.06-0.74-0.91c-0.13-0.17-0.24-0.28-0.42-0.31h-0.08c-0.15-0.01-0.34 0.04-0.62 0.16l-0.33 0.15c-0.32 0.13-0.7 0.25-1.09 0.33-0.34-0.21-0.71-0.39-1.09-0.53-0.18-0.35-0.33-0.7-0.43-1.03l-0.1-0.39c-0.18-0.63-0.37-0.75-0.67-0.78zm-0.62 3.94c1.97 0 3.58 1.61 3.58 3.58 0 1.98-1.61 3.58-3.58 3.58-1.98 0-3.58-1.6-3.58-3.58 0-1.97 1.6-3.58 3.58-3.58zm0 1.7c-1.04 0-1.89 0.84-1.89 1.88s0.85 1.89 1.89 1.89 1.88-0.85 1.88-1.89-0.84-1.88-1.88-1.88z" fill="#262626"></path>
                        </svg>
                    </a>
                {% endif %}
            </div>
            <div class="test__field">
                <input id="advanced_search_button" type="checkbox">
                <div class="test__filtration">
                    <label for="advanced_search_button" class="test__advanced_search">advanced search</label>
                    <div class="filtration__footer"></div>
                </div>
                <div class="filtration__field">
                    <div class="field__advanced_search">
                        <span class="bunch__hedge__top"></span>
                        <div class="bunch__header">
                            <div>Criterion</div>
                            <div id="criterion__reset" class="advanced_search__reset">reset</div>
                        </div>
                        <div class="bunch__selection" id="selection__criterion">
                            {% for criterion in criterions %}
                            <label class="selection__item">
                                <input type="radio" name="select_criterion" value="{{ criterion.0 }}">
                                <div class="item__choice">{{ criterion.1 }}</div>
                            </label>
                            {% endfor %}
                        </div>
                        <div class="bunch__header">
                            <div>Sorted by</div>
                            <div id="sorting__reset" class="advanced_search__reset">reset</div>
                        </div>
                        <div class="bunch__selection" id="selection__sorting">
                            {% for sorting in sortings %}
                            <label class="selection__item">
                                <input type="radio" name="select_sorting" value="{{ sorting.0 }}">
                                <div class="item__choice">{{ sorting.1 }}</div>
                            </label>
                            {% endfor %}
                        </div>
                        <div class="bunch__header">
                            <div>Category</div>
                            <div id="category__reset" class="advanced_search__reset">reset</div>
                        </div>
                        <div class="bunch__selection" id="selection__category">
                            {% for category in categories %}
                            <label class="selection__item">
                                <input type="radio" name="select_category" value="{{ category.0 }}">
                                <div class="item__choice">{{ category.1 }}</div>
                            </label>
                            {% endfor %}
                        </div>
                        <span class="bunch__hedge_bottom"></span>
                        <div class="advanced_search__footer">
                            <label for="advanced_search_button" class="cancel__button">cancle</label>
                            <div class="submit__button" id="submit__button">submin</div>
                        </div>
                    </div>
                </div>
                <div class="hidden__field"></div>
                <div class="test__list">
                    {% if tests %}
                    {% for test in tests %}
                    <div class="test__cell">
                        <a href="{{ test.get_absolute_url }}" id="{{ test.id }}" class="test__item">
                            <div class="item__preview">{{ test.preview }}</div>
                            <div class="item__reputation"></div>
                            <div class="item__status" id="{{ test.id }}">
                                {% if test.is_completed %}
                                <svg class="svg__test_status">
                                    <use xlink:href="#icon_test_completed"></use>
                                </svg>{% endif %}
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                    {% else %}
                        <div class="empty__result">
                            <div class="empty__item__header">No results found</div>
                            <div class="empty__item">Try adjusting your filter options to find what you are looking for</div>
                        </div>
                    {% endif %}
                </div>
                {% if tests.has_other_pages %}
                <div class="partition">
                    <div class="partition__big partition__wide"></div>
                </div>
                <div class="pagination">
                    {% if tests.has_previous %}
                        <a href="?{{ modified_get.urlencode }}&page={{ tests.previous_page_number }}" class="pagination__clickable"><</a>
                    {% else %}
                        <a class="pagination__unclickable"><</a>
                    {% endif %}
                    {% for p in tests.paginator.page_range %}
                        {% if tests.number == p %}
                            <a class="pagination__current">{{ p }}</a>
                        {% elif p >= tests.number|add:-4 and p <= tests.number|add:4 %}
                            <a href="?{{ modified_get.urlencode }}&page={{ p }}" class="pagination__clickable">{{ p }}</a>
                        {% endif %}
                    {% endfor %}
                    {% if tests.has_next %}
                        <a href="?{{ modified_get.urlencode }}&page={{ tests.next_page_number }}" class="pagination__clickable">></a>
                    {% else %}
                        <a class="pagination__unclickable">></a>
                    {% endif %}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}